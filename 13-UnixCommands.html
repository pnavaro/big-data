

<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Basic Commands in the Unix Shell &#8212; Python tools for Big data</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous">
    <link href="_static/css/index.css" rel="stylesheet">
    <link rel="stylesheet" href="_static/sphinx-book-theme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-dropdown.css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/sphinx-book-theme.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe,.cell"
        const thebe_selector_input = "pre,.cell_input div.highlight"
        const thebe_selector_output = ".output,.cell_output"
    </script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="canonical" href="https://pnavaro.github.io/big-data/13-UnixCommands.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Hadoop" href="14-Hadoop.html" />
    <link rel="prev" title="PySpark" href="12-PySpark.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="docsearch:language" content="en">


<!-- Opengraph tags -->
<meta property="og:url"         content="https://pnavaro.github.io/big-data/13-UnixCommands.html" />
<meta property="og:type"        content="article" />
<meta property="og:title"       content="Basic Commands in the Unix Shell" />
<meta property="og:description" content="Basic Commands in the Unix Shell  For windows 10 users, activate bash.  Or install Jupyter Lab  conda install jupyterlab -c conda-forge jupyter lab   Unix Shell" />
<meta property="og:image"       content="https://pnavaro.github.io/big-data/_static/logoR2-Noir.png" />

<meta name="twitter:card" content="summary" />


  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="index.html">
  
  <img src="_static/logoR2-Noir.png" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">Python tools for Big data</h1>
  
</a>
</div>

<form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <ul class="current nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="01-GitBasics.html">
   Git basics
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="01-GitBasics.html#enable-github-pages">
   Enable GitHub pages
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="02-Installation.html">
   Installation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="03-JupyterQuickStart.html">
   Jupyter
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="04-WordCount.html">
   Wordcount
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="05-MapReduce.html">
   Map Reduce
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="06-ParallelComputation.html">
   Parallel Computation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="07-AsynchronousProcessing.html">
   Asynchronous Processing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="08-DaskDelayed.html">
   Dask
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="09-DaskBag.html">
   Dask bag
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="10-PandasSeries.html">
   Pandas Series
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="11-PandaDataframes.html">
   Pandas Dataframes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="12-PySpark.html">
   PySpark
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Basic Commands in the Unix Shell
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="14-Hadoop.html">
   Hadoop
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="15-HadoopFileFormats.html">
   Hadoop File Formats
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="16-DaskDataframes.html">
   Dask Dataframes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="17-SparkDataFrames.html">
   Spark DataFrames
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="18-NYCTaxiCabTripDask.html">
   Dask dataframes on HDFS
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="19-NYCTaxiCabTripSpark.html">
   Spark dataframes on HDFS
  </a>
 </li>
</ul>

</nav>

 <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        <div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    
    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/13-UnixCommands.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
    
</div>
        <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/pnavaro/big-data"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/pnavaro/big-data/issues/new?title=Issue%20on%20page%20%2F13-UnixCommands.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        <a class="edit-button" href="https://github.com/pnavaro/big-data/edit/master/notebooks/13-UnixCommands.ipynb"><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Edit this page"><i class="fas fa-pencil-alt"></i>suggest edit</button></a>
    </div>
</div>


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/pnavaro/big-data/master?urlpath=tree/notebooks/13-UnixCommands.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        <a class="colab-button" href="https://colab.research.google.com/github/pnavaro/big-data/blob/master/notebooks/13-UnixCommands.ipynb"><button type="button" class="btn btn-secondary topbarbtn"
                title="Launch Colab" data-toggle="tooltip" data-placement="left"><img class="colab-button-logo"
                    src="_static/images/logo_colab.png"
                    alt="Interact on Colab">Colab</button></a>
        
        <button type="button" class="btn btn-secondary topbarbtn"
            onclick="initThebeSBT()" title="Launch Thebe" data-toggle="tooltip" data-placement="left"><i
                class="fas fa-play"></i><span style="margin-left: .4em;">Live Code</span></button>
        
    </div>
</div>

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#unix-shell">
   Unix Shell
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#directories">
   Directories
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#home-directory">
   Home directory
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#create-a-new-subdirectory-named-primer">
     Create a new subdirectory named “primer” :
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#files">
   Files
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#list-files-and-directories">
     List files and directories
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#display-file-content">
     Display file content
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#connect-to-a-server">
   Connect to a server
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#exercise">
     Exercise
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#secure-copy-scp">
   Secure copy (scp)
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#summary-of-basic-shell-commands">
   Summary Of Basic Shell Commands
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#redirecting">
   Redirecting
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#python-example">
     Python example
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#permissions">
   Permissions
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#example">
     Example
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#chmod">
   chmod
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#pipelining">
   Pipelining
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#exercice-11-1">
     Exercice 11.1
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#chained-pipelines">
   Chained pipelines
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#exercice-11-2">
     Exercice 11.2
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#exercice-11-3">
     Exercice 11.3
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#exercice-11-4">
     Exercice 11.4
    </a>
   </li>
  </ul>
 </li>
</ul>

        </nav>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="basic-commands-in-the-unix-shell">
<h1>Basic Commands in the Unix Shell<a class="headerlink" href="#basic-commands-in-the-unix-shell" title="Permalink to this headline">¶</a></h1>
<p>For windows 10 users, activate <a class="reference external" href="http://www.numerama.com/tech/158150-le-shell-bash-sous-windows-10-ce-quil-faut-savoir.html">bash</a>.</p>
<p>Or install <a class="reference external" href="https://jupyterlab.readthedocs.io">Jupyter Lab</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda install jupyterlab -c conda-forge
jupyter lab
</pre></div>
</div>
<div class="section" id="unix-shell">
<h2>Unix Shell<a class="headerlink" href="#unix-shell" title="Permalink to this headline">¶</a></h2>
<p>The shell is a command programming language that provides an interface to the UNIX operating system. Documentation of unix command is displayed by command <code class="docutils literal notranslate"><span class="pre">man</span></code>. Exemple:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>man whoami
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#%%bash</span>
<span class="c1">#man whoami</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="directories">
<h2>Directories<a class="headerlink" href="#directories" title="Permalink to this headline">¶</a></h2>
<p>The shell should start you in your home directory. This is your individual space on the UNIX system for your files. You can find out the name of your current working directory with the unix command <code class="docutils literal notranslate"><span class="pre">pwd</span></code>.</p>
<p>In the terminal, type the letters ‘p’, ‘w’, ‘d’, and then “enter” - always conclude each command by pressing the “enter” key. The response that follows on the next line will be the name of your home directory, where the name following the last slash should be your username.) The directory structure can be conceptualized as an inverted tree.</p>
<p>In the jupyter notebook, unix shell command can be executed using the escape character “!” or add <code class="docutils literal notranslate"><span class="pre">%%bash</span></code> to the cell first line. You can type command directly in a terminal without the “!”.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#%%bash</span>
<span class="c1">#pwd</span>
</pre></div>
</div>
</div>
</div>
<p>Some unix command (not all) are also jupyter magic command like %pwd</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#%pwd</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="home-directory">
<h2>Home directory<a class="headerlink" href="#home-directory" title="Permalink to this headline">¶</a></h2>
<p>No matter where in the directory structure you are, you can always get back to your home directory with <code class="docutils literal notranslate"><span class="pre">cd</span></code>.</p>
<div class="section" id="create-a-new-subdirectory-named-primer">
<h3>Create a new subdirectory named “primer” :<a class="headerlink" href="#create-a-new-subdirectory-named-primer" title="Permalink to this headline">¶</a></h3>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>mkdir primer
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#%%bash</span>
<span class="c1">#rm -rf primer  # remove primer directory if it exists</span>
<span class="c1">#mkdir  primer  # make the new directory </span>
</pre></div>
</div>
</div>
</div>
<p>Now change to the “primer” subdirectory, making it your current working directory:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> primer
<span class="nb">pwd</span>
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#%cd primer</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#pwd</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="files">
<h2>Files<a class="headerlink" href="#files" title="Permalink to this headline">¶</a></h2>
<p>Create a file using <code class="docutils literal notranslate"><span class="pre">date</span></code> command and <code class="docutils literal notranslate"><span class="pre">whoami</span></code>:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>date &gt;&gt; first.txt
whoami &gt;&gt; first.txt
</pre></div>
</div>
<p>date and whoami are not jupyter magic commands</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#%%bash</span>
<span class="c1">#</span>
<span class="c1">#date &gt;&gt; first.txt</span>
<span class="c1">#whoami &gt;&gt; first.txt</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="list-files-and-directories">
<h3>List files and directories<a class="headerlink" href="#list-files-and-directories" title="Permalink to this headline">¶</a></h3>
<p>Files live within directories. You can see a list of the files in your “primer” directory (which should be your current working directory) by typing:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>ls
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#%%bash</span>
<span class="c1">#ls</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="display-file-content">
<h3>Display file content<a class="headerlink" href="#display-file-content" title="Permalink to this headline">¶</a></h3>
<p>You can view a text file with the following command:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>cat first.txt
</pre></div>
</div>
<p>(“cat” is short for concatenate - you can use this to display multiple files together on the screen.) If you have a file that is longer than your 24-line console window, use instead “more” to list one page at a time or “less” to scroll the file down and up with the arrow keys. Don’t use these programs to try to display binary (non-text) files on your console - the attempt to print the non-printable control characters might alter your console settings and render the console unusable.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#%%bash</span>
<span class="c1">#cat first.txt</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Copy file “first” using the following command:</p></li>
</ul>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>cp first.txt 2nd.txt
</pre></div>
</div>
<p>By doing this you have created a new file named “2nd.txt” which is a duplicate of file “first.txt”. Geet he file listing with:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>ls
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#%%bash</span>
<span class="c1">#cp first.txt 2nd.txt</span>
<span class="c1">#ls</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Now rename the file “2nd” to “second”:</p></li>
</ul>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>mv 2nd.txt second.txt
</pre></div>
</div>
<p>Listing the files still shows two files because you haven’t created a new file, just changed an existing file’s name:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>ls
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#%%bash</span>
<span class="c1">#mv 2nd.txt second.txt</span>
<span class="c1">#ls</span>
</pre></div>
</div>
</div>
</div>
<p>If you “cat” the second file, you’ll see the same sentence as in your first file:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>cat second.txt
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#%%bash</span>
<span class="c1">#cat second.txt</span>
</pre></div>
</div>
</div>
</div>
<p>“mv” will allow you to move files, not just rename them. Perform the following commands:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>mkdir sub
mv second.txt sub
ls sub
ls
</pre></div>
</div>
<p>(where “username” will be your username and “group” will be your group name). Among other things, this lists the creation date and time, file access permissions, and file size in bytes. The letter ‘d’ (the first character on the line) indicates the directory names.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#%%bash</span>
<span class="c1">#mkdir sub</span>
<span class="c1">#mv second.txt sub</span>
<span class="c1">#ls sub</span>
</pre></div>
</div>
</div>
</div>
<p>This creates a new subdirectory named “sub”, moves “second” into “sub”, then lists the contents of both directories. You can list even more information about files by using the “-l” option with “ls”:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#%%bash</span>
<span class="c1">#ls -l</span>
</pre></div>
</div>
</div>
</div>
<p>Next perform the following commands:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> sub
<span class="nb">pwd</span>
ls -l
<span class="nb">cd</span> ..
<span class="nb">pwd</span>
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#%%bash</span>
<span class="c1">## go to sub directory</span>
<span class="c1">#cd sub </span>
<span class="c1">## current working directory</span>
<span class="c1">#pwd  </span>
<span class="c1">## list files with permissions</span>
<span class="c1">#ls -l </span>
<span class="c1">## go to parent directory</span>
<span class="c1">#cd ..  </span>
<span class="c1">## current working directory</span>
<span class="c1">#pwd     </span>
</pre></div>
</div>
</div>
</div>
<p>Finally, clean up the duplicate files by removing the “second.txt” file and the “sub” subdirectory:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>rm sub/second.txt
rmdir sub
ls -l
<span class="nb">cd</span>
</pre></div>
</div>
<p>This shows that you can refer to a file in a different directory using the relative path name to the file (you can also use the absolute path name to the file - something like “/Users/username/primer/sub/second.txt”, depending on your home directory). You can also include the “..” within the path name (for instance, you could have referred to the file as “../primer/sub/second.txt”).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#%%bash</span>
<span class="c1">#rm -f sub/second.txt</span>
<span class="c1">#rmdir sub</span>
<span class="c1">#ls -l</span>
<span class="c1">#cd ..</span>
<span class="c1">#rm -rf primer</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="connect-to-a-server">
<h2>Connect to a server<a class="headerlink" href="#connect-to-a-server" title="Permalink to this headline">¶</a></h2>
<p>Remote login to another machine can be accomplished using the “ssh” command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ssh -l mylogin host
</pre></div>
</div>
<p>or</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ssh mylogin@host
</pre></div>
</div>
<p>where “myname” will be your username on the remote system (possibly identical to your username on this system) and “host” is the name (or IP address) of the machine you are logging into.</p>
<p>Transfer files between machines using “scp”.</p>
<ul class="simple">
<li><p>To copy file “myfile” from the remote machine named “host”:</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>scp myname@host:myfile .
</pre></div>
</div>
<ul class="simple">
<li><p>To copy file “myfile” from the local machine to the remote named “host”:</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>scp myfile myname@host:
</pre></div>
</div>
<ul class="simple">
<li><p>Use <code class="docutils literal notranslate"><span class="pre">ssh</span> <span class="pre">-r</span></code> option to copy a directory
(The “.” refers to your current working directory, meaning that the destination for “myfile” is your current directory.)</p></li>
</ul>
<div class="section" id="exercise">
<h3>Exercise<a class="headerlink" href="#exercise" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Copy a file to the server <code class="docutils literal notranslate"><span class="pre">svmass2.mass.uhb.fr</span></code></p></li>
<li><p>Log on to this server and display this file with <code class="docutils literal notranslate"><span class="pre">cat</span></code></p></li>
</ul>
</div>
</div>
<div class="section" id="secure-copy-scp">
<h2>Secure copy (scp)<a class="headerlink" href="#secure-copy-scp" title="Permalink to this headline">¶</a></h2>
<p>Synchronize big-data directory on the cluster:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>scp -r big-data svmass2:
</pre></div>
</div>
<p>This a secure copy of big-data directory to the server.</p>
<p>or</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rsync</span> <span class="o">-</span><span class="n">e</span> <span class="n">ssh</span> <span class="o">-</span><span class="n">avrz</span> <span class="n">big</span><span class="o">-</span><span class="n">data</span> <span class="n">svmass2</span><span class="p">:</span>
</pre></div>
</div>
<p>It synchronizes the local directory big-data with the remote repository big-data on svmass2 server</p>
</div>
<div class="section" id="summary-of-basic-shell-commands">
<h2>Summary Of Basic Shell Commands<a class="headerlink" href="#summary-of-basic-shell-commands" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>% pico myfile	            <span class="c1"># text edit file &quot;myfile&quot;</span>
% ls	                    <span class="c1"># list files in current directory</span>
% ls -l	                    <span class="c1"># long format listing</span>
% touch myfile              <span class="c1"># create new empty file &quot;myfile&quot;</span>
% cat myfile	            <span class="c1"># view contents of text file &quot;myfile&quot;</span>
% more myfile	            <span class="c1"># paged viewing of text file &quot;myfile&quot;</span>
% less myfile	            <span class="c1"># scroll through text file &quot;myfile&quot;</span>
% head myfile               <span class="c1"># view 10 first lines of text file &quot;myfile&quot;</span>
% tail myfile               <span class="c1"># view 10 last lines of text file &quot;myfile&quot;</span>
% cp srcfile destfile	    <span class="c1"># copy file &quot;srcfile&quot; to new file &quot;destfile&quot;</span>
% mv oldname newname	    <span class="c1"># rename (or move) file &quot;oldname&quot; to &quot;newname&quot;</span>
% rm myfile	                <span class="c1"># remove file &quot;myfile&quot;</span>
% mkdir subdir	            <span class="c1"># make new directory &quot;subdir&quot;</span>
% <span class="nb">cd</span> subdir	                <span class="c1"># change current working directory to &quot;subdir&quot;</span>
% rmdir subdir	            <span class="c1"># remove (empty) directory &quot;subdir&quot;</span>
% <span class="nb">pwd</span>	                    <span class="c1"># display current working directory</span>
% date	                    <span class="c1"># display current date and time of day</span>
% ssh -l myname host	    <span class="c1"># remote shell login of username &quot;myname&quot; to &quot;host&quot;</span>
% scp myname@host:myfile .	<span class="c1"># remote copy of file &quot;myfile&quot; to current directory</span>
% scp myfile myname@host:	<span class="c1"># copy of file &quot;myfile&quot; to remote server</span>
% firefox <span class="p">&amp;</span>	                <span class="c1"># start Firefox web browser (in background)</span>
% <span class="nb">jobs</span>                      <span class="c1"># display programs running in background</span>
% <span class="nb">kill</span> %n                   <span class="c1"># kill job number n (use jobs to get this number)</span>
% man -k <span class="s2">&quot;topic&quot;</span>	        <span class="c1"># search manual pages for &quot;topic&quot;</span>
% man <span class="nb">command</span>	            <span class="c1"># display man page for &quot;command&quot;</span>
% <span class="nb">exit</span>	                    <span class="c1"># exit a terminal window</span>
% <span class="nb">logout</span>	                <span class="c1"># logout of a console session</span>
</pre></div>
</div>
</div>
<div class="section" id="redirecting">
<h2>Redirecting<a class="headerlink" href="#redirecting" title="Permalink to this headline">¶</a></h2>
<p>Redirection is usually implemented by placing characters &lt;,&gt;,|,&gt;&gt; between commands.</p>
<ul class="simple">
<li><p>Use  &gt; to redirect output.</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ls *.ipynb &gt; file_list.txt
</pre></div>
</div>
<p>executes <code class="docutils literal notranslate"><span class="pre">ls</span></code>, placing the output in file_list.txt, as opposed to displaying it at the terminal, which is the usual destination for standard output. This will clobber any existing data in file1.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#%%bash</span>
<span class="c1">#ls *.ipynb &gt; file_list.txt</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Use &lt; to redirect input.</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>wc &lt; file_list.txt
</pre></div>
</div>
<p>executes <code class="docutils literal notranslate"><span class="pre">wc</span></code>, with file_list.txt as the source of input, as opposed to the keyboard, which is the usual source for standard input.</p>
<div class="section" id="python-example">
<h3>Python example<a class="headerlink" href="#python-example" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%file</span> test_stdin.py
<span class="ch">#!/usr/bin env python</span>
<span class="kn">import</span> <span class="nn">sys</span>

<span class="c1"># input comes from standard input</span>
<span class="n">k</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdin</span><span class="p">:</span>
    <span class="n">k</span> <span class="o">+=</span><span class="mi">1</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;file </span><span class="si">{}</span><span class="s1"> : </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="n">file</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Overwriting test_stdin.py
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># %%bash</span>
<span class="c1"># python test_stdin.py &lt; file_list.txt</span>
</pre></div>
</div>
</div>
</div>
<p>You can combine the two capabilities: read from an input file and write to an output file.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># %%bash</span>
<span class="c1"># python test_stdin.py &lt; file_list.txt &gt; output.txt</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># %%bash</span>
<span class="c1"># cat output.txt</span>
</pre></div>
</div>
</div>
</div>
<p>To append output to the end of the file, rather than clobbering it, the &gt;&gt; operator is used:</p>
<p>date &gt;&gt; output.txt</p>
<p>It will append the today date to the end of the file output.txt</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># %%bash</span>
<span class="c1"># date &gt;&gt; output.txt</span>
<span class="c1"># cat output.txt</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="permissions">
<h2>Permissions<a class="headerlink" href="#permissions" title="Permalink to this headline">¶</a></h2>
<p>Every file on the system has associated with it a set of permissions. Permissions tell UNIX what can be done with that file and by whom. There are three things you can (or can’t) do with a given file:</p>
<ul class="simple">
<li><p>read,</p></li>
<li><p>write (modify),</p></li>
<li><p>execute.</p></li>
</ul>
<p>Unix permissions specify what can ‘owner’, ‘group’ and ‘all’ can do.</p>
<p>If you try ls -l on the command prompt you get something like the following:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>-rw-r--r--  <span class="m">1</span> navaro  staff   <span class="m">15799</span>  <span class="m">5</span> oct <span class="m">15</span>:57 <span class="m">01</span>.MapReduce.ipynb
-rw-r--r--  <span class="m">1</span> navaro  staff   <span class="m">18209</span> <span class="m">12</span> oct <span class="m">16</span>:04 <span class="m">02</span>.Containers.ipynb
-rw-r--r--  <span class="m">1</span> navaro  staff   <span class="m">37963</span> <span class="m">12</span> oct <span class="m">21</span>:28 <span class="m">03</span>.ParallelComputation.ipynb
</pre></div>
</div>
<p>Three bits specify access permissions:</p>
<ul class="simple">
<li><p><strong>r</strong> read,</p></li>
<li><p><strong>w</strong> access,</p></li>
<li><p><strong>w</strong> execute.</p></li>
</ul>
<div class="section" id="example">
<h3>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rwxr</span><span class="o">-</span><span class="n">xr</span><span class="o">--</span>
</pre></div>
</div>
<ul class="simple">
<li><p>the owner can do anything with the file,</p></li>
<li><p>group owners and the  can only read or execute it.</p></li>
<li><p>rest of the world can only read</p></li>
</ul>
</div>
</div>
<div class="section" id="chmod">
<h2>chmod<a class="headerlink" href="#chmod" title="Permalink to this headline">¶</a></h2>
<p>To set/modify a file’s permissions you need to use the chmod program. Of course, only the owner of a file may use chmod to alter a file’s permissions. chmod has the following syntax:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>chmod <span class="o">[</span>options<span class="o">]</span> mode file<span class="o">(</span>s<span class="o">)</span>
</pre></div>
</div>
<ul class="simple">
<li><p>The ‘mode’ part specifies the new permissions for the file(s) that follow as arguments. A mode specifies which user’s permissions should be changed, and afterwards which access types should be changed.</p></li>
<li><p>We use <code class="docutils literal notranslate"><span class="pre">+</span></code> or <code class="docutils literal notranslate"><span class="pre">-</span></code> to change the mode for owner, group and the rest of the world.</p></li>
<li><p>The permissions start with a letter specifying what users should be affected by the change.</p></li>
</ul>
<p>Original permissions of script.py are <code class="docutils literal notranslate"><span class="pre">rw-------</span></code></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">chmod</span> <span class="pre">u+x</span> <span class="pre">script.py</span></code> set permissions to <code class="docutils literal notranslate"><span class="pre">rwx------</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">chmod</span> <span class="pre">a+x</span> <span class="pre">script.py</span></code> set permissions to <code class="docutils literal notranslate"><span class="pre">rwx--x--x</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">chmod</span> <span class="pre">g+r</span> <span class="pre">script.py</span></code> set permissions to <code class="docutils literal notranslate"><span class="pre">rwxr-x--x</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">chmod</span> <span class="pre">o-x</span> <span class="pre">script.py</span></code> set permissions to <code class="docutils literal notranslate"><span class="pre">rwxr-x---</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">chmod</span> <span class="pre">og+w</span> <span class="pre">script.py</span></code> set permissions to <code class="docutils literal notranslate"><span class="pre">rwxrwx-w-</span></code></p></li>
</ul>
</div>
<div class="section" id="pipelining">
<h2>Pipelining<a class="headerlink" href="#pipelining" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ls <span class="p">|</span> grep ipynb
</pre></div>
</div>
<p>executes <code class="docutils literal notranslate"><span class="pre">ls</span></code>, using its output as the input for <code class="docutils literal notranslate"><span class="pre">grep</span></code>.</p>
<div class="section" id="exercice-11-1">
<h3>Exercice 11.1<a class="headerlink" href="#exercice-11-1" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Pipe <code class="docutils literal notranslate"><span class="pre">cat</span> <span class="pre">*.ipynb</span></code> output to <code class="docutils literal notranslate"><span class="pre">sort</span></code> command.</p></li>
<li><p>Pipe <code class="docutils literal notranslate"><span class="pre">ls</span></code> output to <code class="docutils literal notranslate"><span class="pre">wc</span></code> command.</p></li>
<li><p>Pipe <code class="docutils literal notranslate"><span class="pre">cat</span> <span class="pre">11.UnixCommands.ipynb</span></code> to <code class="docutils literal notranslate"><span class="pre">less</span></code> command.</p></li>
</ul>
</div>
</div>
<div class="section" id="chained-pipelines">
<h2>Chained pipelines<a class="headerlink" href="#chained-pipelines" title="Permalink to this headline">¶</a></h2>
<p>The redirection and piping tokens can be chained together to create complex commands.</p>
<div class="section" id="exercice-11-2">
<h3>Exercice 11.2<a class="headerlink" href="#exercice-11-2" title="Permalink to this headline">¶</a></h3>
<p>Use unix commands chained to display word count of file <code class="docutils literal notranslate"><span class="pre">sample.txt</span></code>.</p>
<p>Hints:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">fmt</span> <span class="pre">-n</span></code> takes text as input and reformats it into  paragraphs with no line longer than n.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sort</span></code> sort the output alphabetically</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tr</span> <span class="pre">-d</span> <span class="pre">str</span></code> delete the string str from the output</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">uniq</span> <span class="pre">-c</span></code> writes a copy of each unique input and precede each word with the count of the number of occurences.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">lorem</span> <span class="kn">import</span> <span class="n">text</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;sample.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">text</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="exercice-11-3">
<h3>Exercice 11.3<a class="headerlink" href="#exercice-11-3" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Create a python script mapper.py to count words from stdin. The script prints out every word found in stdin with the value 1 separate by a tab.</p></li>
</ul>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Consectetur	1
adipisci	1
quiquia	1
sit	1
</pre></div>
</div>
<p>File <code class="docutils literal notranslate"><span class="pre">mapper.py</span></code> must be executable.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># %%bash</span>
<span class="c1"># chmod +x mapper.py</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="exercice-11-4">
<h3>Exercice 11.4<a class="headerlink" href="#exercice-11-4" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Create a python script reducer.py to read output from mapper.py. The script prints out every word and number of occurences.</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cat sample.txt <span class="p">|</span> ./mapper.py <span class="p">|</span> ./reducer.py
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>7	porro
7	eius
6	non
6	dolore
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># %%bash</span>
<span class="c1"># chmod +x ./reducer.py</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "pnavaro/big-data",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "big-data"
        },
        kernelOptions: {
            kernelName: "big-data",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'big-data'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="12-PySpark.html" title="previous page">PySpark</a>
    <a class='right-next' id="next-link" href="14-Hadoop.html" title="next page">Hadoop</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Pierre Navaro<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    <script src="_static/js/index.js"></script>
    
  </body>
</html>